---
- name: Install development packages
  apt:
    name: "{{item}}"
    state: present
  with_items:
  - git
  # rvm's ruby deps:
  - gawk
  - g++
  - gcc
  - make
  - libc6-dev
  - libreadline6-dev
  - zlib1g-dev
  - libssl-dev
  - libyaml-dev
  - libsqlite3-dev
  - sqlite3
  - autoconf
  - libgmp-dev
  - libgdbm-dev
  - libncurses5-dev
  - automake
  - libtool
  - bison
  - pkg-config
  - libffi-dev
  - exuberant-ctags
- name: Download Go
  get_url:
    url: https://storage.googleapis.com/golang/go{{go_version}}.linux-amd64.tar.gz
    dest: /usr/local/src/go{{go_version}}.linux-amd64.tar.gz
    checksum: sha256:{{go_checksum}}
- name: Install Go
  unarchive:
    remote_src: yes
    src: /usr/local/src/go{{go_version}}.linux-amd64.tar.gz
    dest: /usr/local
    creates: /usr/local/go
